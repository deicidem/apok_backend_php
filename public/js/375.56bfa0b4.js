"use strict";(self["webpackChunkapp_2"]=self["webpackChunkapp_2"]||[]).push([[375],{8955:function(t,e,s){s.d(e,{Z:function(){return c}});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("table",[t._t("default")],2)},r=[],i={props:{data:Array,headers:Array}},n=i,o=s(1001),l=(0,o.Z)(n,a,r,!1,null,"dc939534",null),c=l.exports},7375:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"results"},[a("h2",{staticClass:"sidebar-title"},[t._v(" Результаты поиска: "+t._s(t.results.length)+" найдено ")]),a("div",{staticClass:"results-content"},[a("router-link",{attrs:{to:"/main/search"}},[a("div",{staticClass:"back"},[a("div",{staticClass:"back-arrow"},[a("img",{attrs:{src:s(5628)}})]),a("p",{staticClass:"back-subtitle"},[t._v("Назад")])])]),a("portal",{attrs:{to:"popup-card"}},[null!=t.card.ind?a("div",{directives:[{name:"show",rawName:"v-show",value:t.card.active,expression:"card.active"}],staticClass:"card"},[a("div",{staticClass:"card-close",on:{click:function(e){return t.onCardClose()}}},[a("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M11.625 1.982L10.018.375 6 4.393 1.982.375.375 1.982 4.393 6 .375 10.018l1.607 1.607L6 7.607l4.018 4.018 1.607-1.607L7.607 6l4.018-4.018z",fill:"#476D70"}})])]),a("div",{staticClass:"card-title"},[t._v("Информация по объекту")]),a("div",{staticClass:"card-img"},[a("img",{attrs:{src:t.cardData.previewPath,alt:""}})]),a("div",{staticClass:"card-table__wrapper"},[a("table",{staticClass:"card-table"},[a("thead",[a("tr",[a("th",[t._v("Характеристика")]),a("th",[t._v("Значение")])])]),a("tbody",[a("tr",[a("td",[t._v("Идентификатор")]),a("td",[t._v(t._s(t.cardData.name))])]),a("tr",[a("td",[t._v("Виток")]),a("td",[t._v(t._s(t.cardData.round))])]),a("tr",[a("td",[t._v("Маршрут")]),a("td",[t._v(t._s(t.cardData.route))])]),a("tr",[a("td",[t._v("Дата съемки")]),a("td",[t._v(t._s(t.cardData.date))])]),a("tr",[a("td",[t._v("Облачность")]),a("td",[t._v(t._s(t.cardData.cloudiness))])])])])]),a("div",{staticClass:"card-buttons"},[a("button",{staticClass:"button button-g card-button",on:{click:function(e){return t.onPolygonButtonClick(t.card.ind,t.cardData.id,t.cardData.geography)}}},[t._v(" Скрыть контур ")]),a("button",{staticClass:"button button-white card-button",attrs:{type:"white"},on:{click:function(e){return t.onImageButtonClick(t.card.ind,t.cardData.id,t.cardData.previewPath,t.cardData.geography.bbox)}}},[t._v(" Показать изображение ")])])]):t._e()]),a("div",{staticClass:"results-wrapper"},[a("app-table",{staticClass:"results-table"},[a("thead",[a("tr",[a("th"),a("th",[t._v("Идентификатор")]),a("th",[t._v("Виток")]),a("th",[t._v("Маршрут")]),a("th",[t._v("Аппарат")]),a("th",[t._v("Дата съемки")]),a("th",[t._v("Облачность")]),a("th")])]),t.loaded?a("tbody",t._l(t.results,(function(e,s){return a("tr",{key:s},[a("td",{staticClass:"results-table__buttons"},[a("button",{staticClass:"button button-white button-small",class:t.results[s].polygonActive?"active":"",on:{click:function(a){return t.onPolygonButtonClick(s,e.id,e.geography)}}},[a("svg",{class:"icon icon-vector-o",attrs:{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("rect",{attrs:{x:"2.76",y:"2.76",width:"8.64",height:"8.515",rx:"2",stroke:"#476D70"}}),a("path",{attrs:{d:"M6.6 12.168v.892a2 2 0 002 2h4.64a2 2 0 002-2V8.545a2 2 0 00-2-2h-.88",stroke:"#476D70"}})])]),a("button",{staticClass:"button button-white button-small",class:t.results[s].imageActive?"active":"",on:{click:function(a){return t.onImageButtonClick(s,e.id,e.previewPath,null==e.geography?null:e.geography.bbox)}}},[a("svg",{class:"icon icon-img",attrs:{width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M1.167 3.5A2.333 2.333 0 013.5 1.167h7A2.333 2.333 0 0112.834 3.5v7a2.333 2.333 0 01-2.334 2.334h-7A2.333 2.333 0 011.167 10.5v-7z",stroke:"#476D70","stroke-linecap":"round","stroke-linejoin":"round"}}),a("path",{attrs:{d:"M4.958 6.417a1.458 1.458 0 100-2.917 1.458 1.458 0 000 2.917zM8.473 7.362L3.5 12.833h7.078a2.256 2.256 0 002.255-2.255V10.5c0-.272-.102-.376-.286-.577l-2.35-2.564a1.167 1.167 0 00-1.723.003v0z",stroke:"#476D70","stroke-linecap":"round","stroke-linejoin":"round"}})])])]),a("td",[t._v(t._s(e.name))]),a("td",[t._v(t._s(e.round))]),a("td",[t._v(t._s(e.route))]),a("td",[t._v("Аппарат")]),a("td",[t._v(t._s(e.date))]),a("td",[t._v(t._s(e.cloudiness))]),a("td",{staticClass:"results-table__buttons"},[a("button",{staticClass:"button button-white button-small",class:t.results[s].cardActive?"active":"",on:{click:function(e){return t.onCardButtonClick(s)}}},[a("svg",{class:"icon icon-open",attrs:{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg","svg-inline":"",role:"presentation",focusable:"false",tabindex:"-1"}},[a("path",{attrs:{d:"M4.5 3A1.5 1.5 0 003 4.5v7A1.5 1.5 0 004.5 13h7a1.5 1.5 0 001.5-1.5V9.27a.5.5 0 011 0v2.23a2.5 2.5 0 01-2.5 2.5h-7A2.5 2.5 0 012 11.5v-7A2.5 2.5 0 014.5 2h2.23a.5.5 0 110 1H4.5zm4.27-.5a.5.5 0 01.5-.5h4.23a.5.5 0 01.5.5v4.23a.5.5 0 01-1 0V3.708L9.623 7.084a.5.5 0 11-.707-.707L12.293 3H9.269a.5.5 0 01-.5-.5h.001z",fill:"#476D70"}})])])])])})),0):t._e()])],1)],1)])},r=[],i=s(4665),n=s(8955),o={components:{AppTable:n.Z},data(){return{loaded:!1,buttons:[],card:{active:!1,ind:null}}},computed:{...(0,i.Se)("results",{results:"getResults"}),cardData(){return null!=this.card.ind?this.results[this.card.ind]:null}},methods:{...(0,i.nv)("map",["addGeoJsonPolygon","removeGeoJsonPolygon","addImage","removeImage"]),...(0,i.nv)("results",["setResultProperty"]),onPolygonButtonClick(t,e,s){this.results[t].polygonActive?(this.removeGeoJsonPolygon(e),this.setResultProperty({index:t,property:"polygonActive",value:!1})):(this.addGeoJsonPolygon({id:e,json:s}),this.setResultProperty({index:t,property:"polygonActive",value:!0}))},onImageButtonClick(t,e,s,a){this.results[t].imageActive?(this.removeImage(e),this.setResultProperty({index:t,property:"imageActive",value:!1})):(this.addImage({id:e,img:s,bounds:a}),this.setResultProperty({index:t,property:"imageActive",value:!0}))},onCardButtonClick(t){if(this.results[t].cardActive)this.card.active=!1,this.setResultProperty({index:t,property:"cardActive",value:!1});else{this.card.ind=t;for(let t=0;t<this.results.length;t++)this.setResultProperty({index:t,property:"cardActive",value:!1});this.setResultProperty({index:t,property:"cardActive",value:!0}),this.card.active=!0,this.card.data={...this.results[t]}}},onCardClose(){for(let t=0;t<this.results.length;t++)this.setResultProperty({index:t,property:"cardActive",value:!1});this.card.active=!1}},created(){this.loaded=!0}},l=o,c=s(1001),d=(0,c.Z)(l,a,r,!1,null,null,null),u=d.exports},5628:function(t,e,s){t.exports=s.p+"img/arrow.9947a5be.svg"}}]);
//# sourceMappingURL=375.56bfa0b4.js.map